\doxysection{SOCmn\+Thread.\+cpp}
\hypertarget{_s_o_cmn_thread_8cpp_source}{}\label{_s_o_cmn_thread_8cpp_source}\index{core/src/SOCmn/SOCmnThread.cpp@{core/src/SOCmn/SOCmnThread.cpp}}
\mbox{\hyperlink{_s_o_cmn_thread_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{core_2src_2_s_o_cmn_2_std_afx_8h}{stdafx.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_s_o_cmn_8h}{SOCmn.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_s_o_cmn_thread_8h}{SOCmnThread.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_s_o_cmn_event_8h}{SOCmnEvent.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00007}00007\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00008}00008\ \textcolor{comment}{//\ SOCmnThread\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00009}00009\ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00012}\mbox{\hyperlink{class_s_o_cmn_thread_abbac9dfdd2de6c2e78f36cfecf4739fd}{00012}}\ \mbox{\hyperlink{class_s_o_cmn_thread_abbac9dfdd2de6c2e78f36cfecf4739fd}{SOCmnThread::SOCmnThread}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00013}00013\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00014}00014\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00015}00015\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a063f61c183361e63de0922251a0e5c73}{m\_detached}}\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00016}00016\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00017}00017\ \ \ \ \ m\_handle\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00018}00018\ \ \ \ \ m\_id\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00019}00019\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00020}00020\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00021}00021\ \ \ \ \ m\_thread\ \ =\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00022}00022\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00023}00023\ \ \ \ \ m\_events.create();\ \textcolor{comment}{//\ create\ stop\ event}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00024}00024\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00026}\mbox{\hyperlink{class_s_o_cmn_thread_aa6f21a10584fcf7ccbfcbd148c7cc2ba}{00026}}\ \mbox{\hyperlink{class_s_o_cmn_thread_aa6f21a10584fcf7ccbfcbd148c7cc2ba}{SOCmnThread::\string~SOCmnThread}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00027}00027\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00028}00028\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_s_o_cmn_thread_a063f61c183361e63de0922251a0e5c73}{m\_detached}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00029}00029\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00030}00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_c_09_09_2samples_2server_2_console_2_console_8cpp_a1c26da7c8722e4bb2f0da99fe2b817ae}{stop}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00031}00031\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00032}00032\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00034}\mbox{\hyperlink{class_s_o_cmn_thread_a5dd3457d6c30d3b59625d5de631f1be7}{00034}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_a5dd3457d6c30d3b59625d5de631f1be7}{SOCmnThread::start}}(\mbox{\hyperlink{_o_tcommon_8h_ac2bbd6d630a06a980d9a92ddb9a49928}{IN}}\ \mbox{\hyperlink{_s_o_cmn_thread_8h_adba4a973884a01846726c6e1a72b785f}{SOCmnThreadProc}}\ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_af42b58143549db3a786911834932b013}{threadProc}},\ \mbox{\hyperlink{_o_tcommon_8h_ac2bbd6d630a06a980d9a92ddb9a49928}{IN}}\ OPTIONAL\ \textcolor{keywordtype}{void}*\ pContext)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00035}00035\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00036}00036\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a269ff4dea29a14724cf7f10847612d2a}{m\_startup}}.\mbox{\hyperlink{class_s_o_cmn_sync_a0b952562855d00927048db555213aa1e}{lock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ \&\&\ m\_events.isInit(\mbox{\hyperlink{class_s_o_cmn_thread_ace5784129cfa19e82b93853e8313728f}{getStopEventId}}()))}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00039}00039\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00040}00040\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ create\ thread}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00041}00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a9e99e0d87125e31f155c78a68011f525}{m\_context1}}\ =\ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_af42b58143549db3a786911834932b013}{threadProc}};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00042}00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a28c57ffb4815ffb40bf93a029009b241}{m\_context2}}\ =\ pContext;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00043}00043\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00044}00044\ \ \ \ \ \ \ \ \ m\_handle\ =\ ::CreateThread(NULL,\ 0,\ SOCmnThreadP,\ (\textcolor{keywordtype}{void}*)\textcolor{keyword}{this},\ 0,\ \&m\_id);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00045}00045\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ =\ (m\_handle\ !=\ NULL);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00046}00046\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00047}00047\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ =\ !pthread\_create(\&m\_thread,\ NULL,}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SOCmnThreadP,\ (\textcolor{keywordtype}{void}*)\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00050}00050\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00051}00051\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00053}00053\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a269ff4dea29a14724cf7f10847612d2a}{m\_startup}}.\mbox{\hyperlink{class_s_o_cmn_sync_ad891c259da75b817bbadd68e80902f6e}{unlock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00054}00054\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00055}00055\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00057}\mbox{\hyperlink{class_s_o_cmn_thread_aab4dc4821f3324799df54811190d1512}{00057}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_aab4dc4821f3324799df54811190d1512}{SOCmnThread::stop}}(\mbox{\hyperlink{_o_tcommon_8h_ac2bbd6d630a06a980d9a92ddb9a49928}{IN}}\ OPTIONAL\ DWORD\ waitForEndTimeout)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00058}00058\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00059}00059\ \ \ \ \ BOOL\ ret\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00061}00061\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ \&\&\ m\_events.isInit(\mbox{\hyperlink{class_s_o_cmn_thread_ace5784129cfa19e82b93853e8313728f}{getStopEventId}}()))}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00062}00062\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00063}00063\ \ \ \ \ \ \ \ \ m\_events.signal(\mbox{\hyperlink{class_s_o_cmn_thread_ace5784129cfa19e82b93853e8313728f}{getStopEventId}}());}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00064}00064\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_s_o_cmn_thread_a063f61c183361e63de0922251a0e5c73}{m\_detached}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00066}00066\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_trace_8h_a2c302620baa051e3e1a7421e47532e61}{\_ASSERTION}}(!isOwnThread(),\ \textcolor{stringliteral}{"{}SOCmnThread::stop\ called\ in\ own\ thread!"{}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00068}00068\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (WAIT\_OBJECT\_0\ ==\ \mbox{\hyperlink{_c_09_09_2samples_2client_2_d_a_console___multi_thread_2_console_8cpp_a195de34b29f3fcfb75f2bd84b847a099}{WaitForSingleObject}}(m\_handle,\ waitForEndTimeout))}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ret\ =\ TRUE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_trace_8h_a2c302620baa051e3e1a7421e47532e61}{\_ASSERTION}}(ret,\ \textcolor{stringliteral}{"{}fatal\ error:\ thread\ did\ not\ self-\/terminate!"{}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TerminateThread(m\_handle,\ 0);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_c_09_09_2samples_2client_2_d_a_console___multi_thread_2_console_8cpp_aad124efc201206832cfe0875ec224228}{CloseHandle}}(m\_handle);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ m\_handle\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ m\_id\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00084}00084\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00085}00085\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ ret\ =\ pthread\_join(m\_thread,\ NULL)\ ==\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ m\_thread\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00089}00089\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00090}00090\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00091}00091\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00092}00092\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00093}00093\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00094}00094\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00096}\mbox{\hyperlink{class_s_o_cmn_thread_a8faf6c570088551951853ea91075dcbd}{00096}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_a8faf6c570088551951853ea91075dcbd}{SOCmnThread::detach}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00097}00097\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00098}00098\ \ \ \ \ BOOL\ ret\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00100}00100\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ \&\&\ !\mbox{\hyperlink{class_s_o_cmn_thread_a063f61c183361e63de0922251a0e5c73}{m\_detached}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00101}00101\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00102}00102\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_a063f61c183361e63de0922251a0e5c73}{m\_detached}}\ =\ TRUE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00103}00103\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00104}00104\ \ \ \ \ \ \ \ \ ret\ =\ \mbox{\hyperlink{_c_09_09_2samples_2client_2_d_a_console___multi_thread_2_console_8cpp_aad124efc201206832cfe0875ec224228}{CloseHandle}}(m\_handle);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00105}00105\ \ \ \ \ \ \ \ \ m\_handle\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00106}00106\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00107}00107\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00108}00108\ \ \ \ \ \ \ \ \ ret\ =\ !pthread\_detach(m\_thread);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ SOCmnThread::isOwnThread\ may\ still\ reference\ m\_thread...}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00110}00110\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00111}00111\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00113}00113\ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00114}00114\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00115}00115\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00116}\mbox{\hyperlink{class_s_o_cmn_thread_aad636092948100d71ec9b86789f72689}{00116}}\ DWORD\ \mbox{\hyperlink{class_s_o_cmn_thread_aad636092948100d71ec9b86789f72689}{SOCmnThread::work}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00117}00117\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00118}00118\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_ad6237cfa57580e4a2364a3fef09d6e08}{waitForStopEvent}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00119}00119\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00120}00120\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00122}00122\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00123}00123\ \textcolor{keywordtype}{void}*\ SOCmnThread::SOCmnThreadP(\textcolor{keywordtype}{void}*\ context)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00124}00124\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00125}00125\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00126}00126\ DWORD\ WINAPI\ SOCmnThread::SOCmnThreadP(\textcolor{keywordtype}{void}*\ context)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00127}00127\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00128}00128\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00129}00129\ \ \ \ \ DWORD\ result\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00130}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{00130}}\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread}{SOCmnThread}}*\ \ \ \ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{pThisThread}}\ \ \ =\ (\mbox{\hyperlink{class_s_o_cmn_thread}{SOCmnThread}}*)\ context;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00131}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_af42b58143549db3a786911834932b013}{00131}}\ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_thread_8h_adba4a973884a01846726c6e1a72b785f}{SOCmnThreadProc}}\ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_af42b58143549db3a786911834932b013}{threadProc}}\ \ \ \ =\ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{pThisThread}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_a9e99e0d87125e31f155c78a68011f525}{m\_context1}};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00132}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_a1f2a66934864d6c8f18afd5a66d2107f}{00132}}\ \ \ \ \ \textcolor{keywordtype}{void}*\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_a1f2a66934864d6c8f18afd5a66d2107f}{threadContext}}\ =\ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{pThisThread}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_a28c57ffb4815ffb40bf93a029009b241}{m\_context2}};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00133}00133\ \ \ \ \ \textcolor{comment}{//\ isOwnThread\ \&\ setPriority\ are\ known\ to\ be\ unreliable}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00134}00134\ \ \ \ \ \textcolor{comment}{//\ while\ the\ start\ function\ is\ unfinished,\ so\ wait\ a\ while}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00135}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_a3cd4fcd0b47ce022fa9471ea1aa05f6c}{00135}}\ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{pThisThread}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_a269ff4dea29a14724cf7f10847612d2a}{m\_startup}}.\mbox{\hyperlink{class_s_o_cmn_sync_a0b952562855d00927048db555213aa1e}{lock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00136}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_a6fbfedc78becd7a0a52374842fcfdb26}{00136}}\ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{pThisThread}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_a269ff4dea29a14724cf7f10847612d2a}{m\_startup}}.\mbox{\hyperlink{class_s_o_cmn_sync_ad891c259da75b817bbadd68e80902f6e}{unlock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00137}00137\ \textcolor{preprocessor}{\#ifdef\ NDEBUG}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00138}00138\ \ \ \ \ BOOL\ end;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00140}00140\ \ \ \ \ \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00141}00141\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00142}00142\ \ \ \ \ \ \ \ \ end\ =\ TRUE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00143}00143\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_exception_8h_aa310e6cee2dce11319393a535cb7e7df}{SOCMN\_TRY}}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00144}00144\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00145}00145\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ NDEBUG}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00146}00146\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00147}00147\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00148}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_a475c37b8662bb50b2afb6dfcaa3c6a4e}{00148}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_s_o_cmn_thread_8cpp_af42b58143549db3a786911834932b013}{threadProc}}\ !=\ NULL)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result\ =\ (*threadProc)(\mbox{\hyperlink{_s_o_cmn_thread_8cpp_a1f2a66934864d6c8f18afd5a66d2107f}{threadContext}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00152}\mbox{\hyperlink{_s_o_cmn_thread_8cpp_a0544c3fe466e421738dae463968b70ba}{00152}}\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00153}00153\ \ \ \ \ \ \ \ \ \ \ \ \ \{\ result\ =\ \mbox{\hyperlink{_s_o_cmn_thread_8cpp_aa77f4143eb783f33ca2670d1dced757a}{pThisThread}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_aad636092948100d71ec9b86789f72689}{work}}();\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00154}00154\ \textcolor{preprocessor}{\#ifdef\ NDEBUG}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00155}00155\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00156}00156\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_exception_8h_a578798cd5be2d489756ab8bdc1510bcc}{SOCMN\_CATCH}}(...)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00157}00157\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00158}00158\ \textcolor{preprocessor}{\#ifndef\ SOOS\_WINDOWS\_CE}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_trace_8h_ad1787451f56bf749b8bd219dfdae3fbb}{\_TRACEC}}(\mbox{\hyperlink{_s_o_cmn_trace_8h_a34f5449cca845ceefc8a2d0604ded2c7}{SOCMNTRACE\_L\_ERR}},\ \mbox{\hyperlink{_s_o_cmn_trace_8h_a26bba001071cc72ca94c7484932024ea}{SOCMNTRACE\_G\_SRV\_THREAD}},\ \mbox{\hyperlink{_o_s_compat_8h_ae936e4c15227768f7da4e0951def89c8}{\_T}}(\textcolor{stringliteral}{"{}THREAD"{}}),\ (\mbox{\hyperlink{_o_s_compat_8h_ae936e4c15227768f7da4e0951def89c8}{\_T}}(\textcolor{stringliteral}{"{}EXCEPTION\ in\ thread"{}})));}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_trace_8h_a2c302620baa051e3e1a7421e47532e61}{\_ASSERTION}}(FALSE,\ \textcolor{stringliteral}{"{}EXCEPTION\ in\ thread"{}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ end\ =\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ Sleep(100);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00163}00163\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00164}00164\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00165}00165\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00166}00166\ \ \ \ \ \textcolor{keywordflow}{while}\ (!end);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00168}00168\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ NDEBUG}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00169}00169\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00170}00170\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{void}*)result;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00171}00171\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00172}00172\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00173}00173\ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00174}00174\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00175}00175\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00176}00176\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00177}\mbox{\hyperlink{class_s_o_cmn_thread_abfb43cb36ef18dcc013e1adab9a7045e}{00177}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_abfb43cb36ef18dcc013e1adab9a7045e}{SOCmnThread::setPriority}}(\mbox{\hyperlink{_o_tcommon_8h_ac2bbd6d630a06a980d9a92ddb9a49928}{IN}}\ INT\ priority)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00178}00178\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00179}00179\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{class_s_o_cmn_thread_a3358db9f35e60b37f60b7eebb839927a}{m\_started}}\ ||\ \mbox{\hyperlink{class_s_o_cmn_thread_a063f61c183361e63de0922251a0e5c73}{m\_detached}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00180}00180\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00181}00181\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FALSE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00182}00182\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00183}00183\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00184}00184\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00185}00185\ \ \ \ \ \textcolor{keywordflow}{return}\ SetThreadPriority(m\_handle,\ priority);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00186}00186\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00187}00187\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00188}00188\ \ \ \ \ \textcolor{keywordtype}{int}\ policy;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00189}00189\ \ \ \ \ \textcolor{keyword}{struct\ }sched\_param\ sched;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00191}00191\ \ \ \ \ \textcolor{keywordflow}{switch}\ (priority)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00192}00192\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00193}00193\ \ \ \ \ \textcolor{keywordflow}{case}\ THREAD\_PRIORITY\_TIME\_CRITICAL:}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00194}00194\ \ \ \ \ \ \ \ \ policy\ =\ SCHED\_RR;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00195}00195\ \ \ \ \ \ \ \ \ sched.sched\_priority\ =\ 2;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00196}00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00197}00197\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00198}00198\ \ \ \ \ \textcolor{keywordflow}{case}\ THREAD\_PRIORITY\_HIGHEST:}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00199}00199\ \ \ \ \ \ \ \ \ policy\ =\ SCHED\_RR;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00200}00200\ \ \ \ \ \ \ \ \ sched.sched\_priority\ =\ 1;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00201}00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00202}00202\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00203}00203\ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00204}00204\ \ \ \ \ \ \ \ \ policy\ =\ SCHED\_OTHER;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00205}00205\ \ \ \ \ \ \ \ \ sched.sched\_priority\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00206}00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00207}00207\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00208}00208\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00209}00209\ \ \ \ \ \textcolor{keywordflow}{return}\ !pthread\_setschedparam(m\_thread,\ policy,\ \&sched);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00210}00210\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00211}00211\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00212}00212\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00213}\mbox{\hyperlink{class_s_o_cmn_thread_pool_ac9a5fa1f4bd3fa93d602354b675cc4ca}{00213}}\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_ac9a5fa1f4bd3fa93d602354b675cc4ca}{SOCmnThreadPool::SOCmnThreadPool}}(\textcolor{keywordtype}{int}\ numThreads)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00214}00214\ \ \ \ \ :\ m\_nWorkerThreads(numThreads)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00215}00215\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00216}00216\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a514f8de2699435b8193eb74531c17c2a}{m\_workItemList}}.\mbox{\hyperlink{class_s_o_cmn_list_a7962316503de34b353c4c4b05f5f2d18}{create}}(\mbox{\hyperlink{_s_o_cmn_list_8h_ac593df5614d6c2888df633c94d50c32c}{SOCMNLIST\_TYPE\_ORG\_LIST}}\ |\ \mbox{\hyperlink{_s_o_cmn_list_8h_a28857c21fcedec7a723aa8493a2881b9}{SOCMNLIST\_TYPE\_OBJ\_OBJECT}}\ |\ \mbox{\hyperlink{_s_o_cmn_list_8h_adce9ffe0945f5b360551a4b28679ba6f}{SOCMNLIST\_TYPE\_KEY\_NO}}\ |}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00217}00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_o_cmn_list_8h_a78737d2bf28cfd6ecf36c693526e92fa}{SOCMNLIST\_TYPE\_SYNCED}}\ |\ \mbox{\hyperlink{_s_o_cmn_list_8h_ac13f8a3cf54ddf72c246b213aca838e7}{SOCMNLIST\_TYPE\_BLOCKED}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00218}00218\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a856416ea311a5a29be717cc909681d33}{m\_stopEvent}}\ =\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a97c2c9c9f4eb2cf504a9088287c74d46}{create}}(TRUE,\ FALSE);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00219}00219\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a72415203b8a80a6b30d1a0db40bcffae}{m\_workEvent}}\ =\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a97c2c9c9f4eb2cf504a9088287c74d46}{create}}(FALSE,\ FALSE);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00220}00220\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread}{SOCmnWorkerThread}}*[\mbox{\hyperlink{class_s_o_cmn_thread_pool_a8914d225e8fd244a527123caf4ecaf5a}{m\_nWorkerThreads}}];}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00222}00222\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a8914d225e8fd244a527123caf4ecaf5a}{m\_nWorkerThreads}};\ i++)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00223}00223\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[i]\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a452fb2ce78575ab76afaa3364ffec9a5}{SOCmnWorkerThread}}(\textcolor{keyword}{this},\ i);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00225}00225\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00226}00226\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00227}00227\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00228}\mbox{\hyperlink{class_s_o_cmn_thread_pool_ad71ebfc3e2109db4021b6da3cbd51ac7}{00228}}\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_ad71ebfc3e2109db4021b6da3cbd51ac7}{SOCmnThreadPool::\string~SOCmnThreadPool}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00229}00229\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00230}00230\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a56a3f2217d19872fa8af824cc0f0896e}{stop}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00231}00231\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00232}00232\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a8914d225e8fd244a527123caf4ecaf5a}{m\_nWorkerThreads}};\ i++)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00233}00233\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00234}00234\ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[i];}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00235}00235\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00236}00236\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00237}00237\ \ \ \ \ \textcolor{keyword}{delete}\ []\mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00238}00238\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00239}00239\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00240}\mbox{\hyperlink{class_s_o_cmn_thread_pool_ad6859f0cf6d3e979b7921e5cdde14363}{00240}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_ad6859f0cf6d3e979b7921e5cdde14363}{SOCmnThreadPool::start}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00241}00241\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00242}00242\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a0112a16fb96c46e15f0170331128d1fe}{reset}}(\mbox{\hyperlink{class_s_o_cmn_thread_pool_a856416ea311a5a29be717cc909681d33}{m\_stopEvent}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00244}00244\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_s_o_cmn_thread_pool_a8914d225e8fd244a527123caf4ecaf5a}{m\_nWorkerThreads}}\ >\ 0)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00245}00245\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00246}00246\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[0]-\/>\mbox{\hyperlink{class_s_o_cmn_thread_a5dd3457d6c30d3b59625d5de631f1be7}{start}}(NULL);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00247}00247\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00249}00249\ \ \ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00250}00250\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00252}\mbox{\hyperlink{class_s_o_cmn_thread_pool_a56a3f2217d19872fa8af824cc0f0896e}{00252}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a56a3f2217d19872fa8af824cc0f0896e}{SOCmnThreadPool::stop}}()}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00253}00253\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00254}00254\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a41f3eb9718db00567638083b90ce06b5}{signal}}(\mbox{\hyperlink{class_s_o_cmn_thread_pool_a856416ea311a5a29be717cc909681d33}{m\_stopEvent}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00255}00255\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00256}00256\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a8914d225e8fd244a527123caf4ecaf5a}{m\_nWorkerThreads}};\ i++)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00257}00257\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00258}00258\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[i]-\/>\mbox{\hyperlink{class_s_o_cmn_thread_aab4dc4821f3324799df54811190d1512}{stop}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00259}00259\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00260}00260\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00261}00261\ \ \ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00262}00262\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00263}00263\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00264}\mbox{\hyperlink{class_s_o_cmn_thread_pool_adbf89f475b108f3c3bd4fb0e88a99781}{00264}}\ BOOL\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_adbf89f475b108f3c3bd4fb0e88a99781}{SOCmnThreadPool::addWorkItem}}(\mbox{\hyperlink{class_s_o_cmn_work_item}{SOCmnWorkItem}}*\ pWorkItem)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00265}00265\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00266}00266\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_list}{SOCmnList<SOCmnWorkItem>}}\ workItemList(\&\mbox{\hyperlink{class_s_o_cmn_thread_pool_a514f8de2699435b8193eb74531c17c2a}{m\_workItemList}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00267}00267\ \ \ \ \ workItemList.\mbox{\hyperlink{class_s_o_cmn_list_a4e4019a5e1070bdcf09ccf1a46641dc6}{add}}(pWorkItem);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00268}00268\ \ \ \ \ workItemList.\mbox{\hyperlink{class_s_o_cmn_list_a8b32d3dd3c37296047b685fe228074ad}{autoUnlock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00269}00269\ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a41f3eb9718db00567638083b90ce06b5}{signal}}(\mbox{\hyperlink{class_s_o_cmn_thread_pool_a72415203b8a80a6b30d1a0db40bcffae}{m\_workEvent}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00270}00270\ \ \ \ \ \textcolor{keywordflow}{return}\ TRUE;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00271}00271\ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00272}00272\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00273}\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_ae04232958a70b35b89c163a73513e20e}{00273}}\ DWORD\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_ae04232958a70b35b89c163a73513e20e}{SOCmnThreadPool::SOCmnWorkerThread::work}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00274}00274\ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00275}00275\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a75a65531fc4cd6bfcd675924dfc859fe}{m\_myindex}}\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00276}00276\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00277}00277\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ nextworker\ =\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a75a65531fc4cd6bfcd675924dfc859fe}{m\_myindex}}\ +\ 1;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00279}00279\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ manager\ thread,\ runs\ with\ THREAD\_PRIORITY\_NORMAL\ */}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00280}00280\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_ac26917856488ef476a6d86b3a388bba7}{waitForAll}}()\ ==\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a72415203b8a80a6b30d1a0db40bcffae}{m\_workEvent}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00281}00281\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00282}00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ work\ stays\ undone,\ because\ managers\ dont\ like\ to\ work...\ */}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00283}00283\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a41f3eb9718db00567638083b90ce06b5}{signal}}(\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a72415203b8a80a6b30d1a0db40bcffae}{m\_workEvent}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00284}00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ try\ harder\ to\ let\ a\ worker\ threads\ run,}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00285}00285\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ if\ the\ priority-\/method\ fails...}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00286}00286\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ note:\ this\ turns\ out\ to\ be\ needed\ under\ linux}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00287}00287\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ \ \ \ \ \ \ if\ the\ process\ has\ no\ root-\/privileges,\ because}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00288}00288\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ *\ \ \ \ \ \ \ SOCmnThread::setPriority\ fails\ in\ this\ context.}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00289}00289\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00290}00290\ \textcolor{preprocessor}{\#ifdef\ SOOS\_WINDOWS}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00291}00291\ \ \ \ \ \ \ \ \ \ \ \ \ Sleep(0);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00292}00292\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00293}00293\ \textcolor{preprocessor}{\#ifdef\ SOOS\_LINUX}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00294}00294\ \ \ \ \ \ \ \ \ \ \ \ \ sched\_yield();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00295}00295\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00296}00296\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_list}{SOCmnList<SOCmnWorkItem>}}\ workItemList(\&\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a514f8de2699435b8193eb74531c17c2a}{m\_workItemList}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00297}00297\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00298}00298\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (workItemList.\mbox{\hyperlink{class_s_o_cmn_list_ae272492af5eece611979201a9d3214a1}{isEmpty}}())}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00299}00299\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00300}00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00301}00301\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00302}00302\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00303}00303\ \ \ \ \ \ \ \ \ \ \ \ \ workItemList.\mbox{\hyperlink{class_s_o_cmn_list_a8b32d3dd3c37296047b685fe228074ad}{autoUnlock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00304}00304\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00305}00305\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (nextworker\ <\ m\_parent-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a8914d225e8fd244a527123caf4ecaf5a}{m\_nWorkerThreads}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00306}00306\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00307}00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[nextworker]-\/>\mbox{\hyperlink{class_s_o_cmn_thread_a5dd3457d6c30d3b59625d5de631f1be7}{start}}(NULL);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00308}00308\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[nextworker]-\/>\mbox{\hyperlink{class_s_o_cmn_thread_abfb43cb36ef18dcc013e1adab9a7045e}{setPriority}}(THREAD\_PRIORITY\_HIGHEST);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00309}00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nextworker++;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00310}00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Sleep(10);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00311}00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00312}00312\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00313}00313\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00314}00314\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a02b691415e886e3ad677347daff61fde}{m\_pWorkerThreads}}[\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a75a65531fc4cd6bfcd675924dfc859fe}{m\_myindex}}]-\/>\mbox{\hyperlink{class_s_o_cmn_thread_abfb43cb36ef18dcc013e1adab9a7045e}{setPriority}}(THREAD\_PRIORITY\_HIGHEST);}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00315}00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{goto}\ sometimes\_managers\_have\_to\_work\_too;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00316}00316\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00317}00317\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00318}00318\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00319}00319\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00320}00320\ sometimes\_managers\_have\_to\_work\_too:}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00321}00321\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00322}00322\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ worker\ thread,\ runs\ with\ THREAD\_PRIORITY\_HIGHEST\ */}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00323}00323\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_ac26917856488ef476a6d86b3a388bba7}{waitForAll}}()\ ==\ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a72415203b8a80a6b30d1a0db40bcffae}{m\_workEvent}})}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00324}00324\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00325}00325\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_list}{SOCmnList<SOCmnWorkItem>}}\ workItemList(\&\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a514f8de2699435b8193eb74531c17c2a}{m\_workItemList}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00326}00326\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_pointer}{SOCmnPointer<SOCmnWorkItem>}}\ workItem\ =\ workItemList.\mbox{\hyperlink{class_s_o_cmn_list_aa210496027d63b80a1afe27602684ca0}{pop}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00327}00327\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00328}00328\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (workItem.\mbox{\hyperlink{class_s_o_cmn_pointer_a8e1dbcce05e4c108b4eb896a12759cdd}{isNotNull}}())}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00329}00329\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00330}00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ BOOL\ emptyWorkList\ =\ workItemList.\mbox{\hyperlink{class_s_o_cmn_list_ae272492af5eece611979201a9d3214a1}{isEmpty}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00331}00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ workItemList.\mbox{\hyperlink{class_s_o_cmn_list_a8b32d3dd3c37296047b685fe228074ad}{autoUnlock}}();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00332}00332\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00333}00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!emptyWorkList)}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00334}00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00335}00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a442c6f0647381969256215d75c13e078}{m\_events}}.\mbox{\hyperlink{class_s_o_cmn_events_a41f3eb9718db00567638083b90ce06b5}{signal}}(\mbox{\hyperlink{class_s_o_cmn_thread_pool_1_1_s_o_cmn_worker_thread_a4bde6d3e27d3c706351e6799b43cab0a}{m\_parent}}-\/>\mbox{\hyperlink{class_s_o_cmn_thread_pool_a72415203b8a80a6b30d1a0db40bcffae}{m\_workEvent}});}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00336}00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00337}00337\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00338}00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ workItem-\/>execute();}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00339}00339\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00340}00340\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00341}00341\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00342}00342\ }
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00343}00343\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{_s_o_cmn_thread_8cpp_source_l00344}00344\ \}}

\end{DoxyCode}
